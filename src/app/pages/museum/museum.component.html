<section class="museos">
  <div class="der">
    <app-sidebar></app-sidebar>
  </div>
  <main class="main">
    <h2 class="title">Museos</h2>
    <h3 class="subtitle">Datos Generales</h3>
    <!--<button mat-button (click)="saveFetchData()">Save Data</button>-->
    <section class="chars1">
      <article class="one1">Total turistas
        <p>1415</p>
      </article>
      <article class="two1">Promedio de turistas por visita
        <p>5.6</p>
      </article>
      <article class="three1">Maxima afluencia
        <p>1000</p>
      </article>
    </section>
    <section class="chars">
      <article class="one">
        <h4 class="titleCard">Procedencia de turistas</h4>
        <section class="sectionChart"> 
          <div class="chart">
            <canvas
              baseChart
              [data]="pieChartData"
              [type]="pieChartType"
              [options]="pieChartOptions"
              [plugins]="pieChartPlugins"
            >
            </canvas>
          </div>
        </section>
        <section class="sectionCInfo">
          <div class="cardInfo">
              <span class="label1 Style-long">Nacionalidades:</span>
              <span class="label2">442</span>
              <span class="label3">55%</span>
          </div>
          <div class="cardInfo">
              <span class="label1">Extranjeros:</span>
              <span class="label2">442</span>
              <span class="label3">55%</span>
          </div>
          <div class="cardInfo">
              <span class="label1">Locales:</span>
              <span class="label2">442</span>
              <span class="label3">55%</span>
          </div>
        </section>
      </article>
      <article class="two">
        <h4 class="titleCard">Fecha de visitas</h4>
        <canvas *ngIf="loaded_line" baseChart width="400" height="150"
                [data]="lineChartData"
                [options]="lineChartOptions"
                [type]="lineChartType"
        ></canvas>
      </article>
      <article class="three">
        <h4>Razon de visitas</h4>
        <canvas *ngIf="loaded_bar"
          baseChart
          [data]="barChartData"
          [options]="barChartOptions"
          [plugins]="barChartPlugins"
          [type]="barChartType"
        >
        </canvas>
      </article>
      <article class="four"><h4>Medios de trasnporte</h4>
        <canvas *ngIf="loaded_barh"
          baseChart
          [data]="hbarChartData"
          [options]="hbarChartOptions"
          [plugins]="hbarChartPlugins"
          [type]="hbarChartType"
        >
        </canvas>
      </article>
    </section>
    <section class="search">
      <div
        *ngIf="rol === 'kKjkKRN2Kzz01dDxLevq'; else elseBlock"
        class="search-title"
      >
        <h2 class="title">Museos</h2>
        <div class="search-bar">
          <form class="search-form">
            <mat-form-field class="search-input" appearance="outline">
              <mat-label>Buscar</mat-label>
              <input
                matInput
                type="text"
                placeholder="Museo puerta de la ciudad"
                #input
              />
              <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
          </form>
        </div>
      </div>
      <ng-template #elseBlock>
        <div class="title2">
          <h2 class="title">Museos disponibles</h2>
          <button
            class="addMuseum"
            mat-raised-button
            color="primary"
            (click)="openDialogNewMuseum()"
          >
            Agregar Museo
            <mat-icon>add_circle</mat-icon>
          </button>
        </div>
      </ng-template>
    </section>
    <div class="grid-museos">
      <app-museum-card
        *ngFor="let museo of museos"
        [card]="museo"
      ></app-museum-card>
    </div>
  </main>
</section>
